(function(g){function y(a,c){var b=g.extend({},z,c);return a.each(function(){var d=g(this);d.find("."+b.listClass).find("."+b.itemClass).hide();d.data(n,b).bind(e+q,d,h.show).bind(e+r,d,h.hide).bind(e+o,d,h.select).bind(e+s,d,h.next).bind(e+t,d,h.prev).bind(e+u,d,h.shuffle).bind(e+v,d,h.destroy)})}function A(a){var c=g(this),b=g(a.target);b.hasClass(i)||(b=b.closest("."+i));var d=b.parents("."+i).length>0;b=b.index();d?c.radmenu(b):c.parents("."+k).radmenu(b);l(a)}function l(a){if(jQuery.browser.msie)window.event.cancelBubble=
true;else a.stopPropagation()}function j(a){var c=a.data;return{menu:c,opts:c.data(n),raditems:function(){return c.find("."+i)}}}function p(a,c,b,d){if(c==b)b=c-1;var f=g(a.raditems()[c]),m=a.raditems()[b];c>b?f.insertBefore(m).show():f.insertAfter(m).show();B(a,d)}function C(a,c){var b="";a.each(function(d){var f=g(this);d=w(d+1,a.length,c);b+="<div class='"+i+"' ";b+="style='position:absolute;left:"+d.x+"px;top:"+d.y+"px;'>";b+=f.html();b+="</div>"});return b}function w(a,c,b){var d=b.radius,f=
b.angleOffset;c=2*Math.PI*parseFloat(a/c);a=b.centerX+Math.cos(c+f)*d;b=b.centerY+Math.sin(c+f)*d;return{x:a,y:b}}function B(a,c){var b=a.menu.find("."+i),d=b.length;b.each(function(f){var m=g(this),x=w(f+c,d,a.opts);m.animate({left:x.x,top:x.y},a.opts.animSpeed,f==d-1?function(){a.opts.afterAnimation(a)}:undefined)})}var o="select",s="next",t="prev",q="show",r="hide",u="shuffle",v="destroy",n="options",e="radmenu.",k="radial_div",i="radial_div_item",D="<div class='"+k+"'></div>",E={position:"relative"},
z={listClass:"list",itemClass:"item",activeItemClass:"active",selectEvent:null,onSelect:function(){},radius:10,angleOffset:0,centerX:0,centerY:0,animSpeed:500,afterAnimation:function(){}};g.fn.radmenu=function(a,c){try{var b=g(this),d=typeof a;if(arguments.length==0||d=="object")return y(b,a);else if(d=="string")return b.trigger(e+a,c);else if(d=="number")return b.trigger(e+o,a)}catch(f){return"error : "+f}};var h={show:function(a){var c=j(a);c.menu.find("."+k).remove();var b=c.menu.find("."+c.opts.itemClass);
b=g(D).css(E).html(C(b,c.opts));c.opts.selectEvent!=null&&b.find("."+i).bind(c.opts.selectEvent,A);b.appendTo(c.menu);l(a)},hide:function(a){j(a).menu.find("."+k).remove();l(a)},select:function(a,c){var b=j(a);c=g(b.raditems().get(c));c.siblings().removeClass(b.opts.activeItemClass);c.addClass(b.opts.activeItemClass);b.opts.onSelect(c);l(a)},next:function(a){a=j(a);p(a,a.raditems().length-1,0,1)},prev:function(a){a=j(a);p(a,0,a.raditems().length-1,1)},shuffle:function(a){a=j(a);var c=a.raditems().length;
p(a,parseInt(Math.random()*c),parseInt(Math.random()*c),parseInt(Math.random()*15))},destroy:function(a){a.data.data(n,null).unbind(e+q).unbind(e+r).unbind(e+o).unbind(e+s).unbind(e+t).unbind(e+u).unbind(e+v)}}})(jQuery);
